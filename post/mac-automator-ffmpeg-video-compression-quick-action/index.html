<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>iMac右鍵新增壓縮影片 | 深海頁</title><meta name=keywords content="影片壓縮,Shell,工序指令,影片優化"><meta name=description content="影片壓縮 Shell 工序指令 影片優化"><meta name=author content="Fermi Logan"><link rel=canonical href=https://alasutoru.github.io/Fermi/post/mac-automator-ffmpeg-video-compression-quick-action/><link crossorigin=anonymous href=/Fermi/assets/css/stylesheet.8fe10233a706bc87f2e08b3cf97b8bd4c0a80f10675a143675d59212121037c0.css integrity="sha256-j+ECM6cGvIfy4Is8+XuL1MCoDxBnWhQ2ddWSEhIQN8A=" rel="preload stylesheet" as=style><link rel=icon href=https://alasutoru.github.io/Fermi/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://alasutoru.github.io/Fermi/favicon-16x16.png%3E><link rel=icon type=image/png sizes=32x32 href=https://alasutoru.github.io/Fermi/favicon-32x32.png><link rel=apple-touch-icon href=https://alasutoru.github.io/Fermi/apple-touch-icon.png><link rel=mask-icon href=https://alasutoru.github.io/Fermi/%3Clink%20/%20abs%20url%3E><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://alasutoru.github.io/Fermi/post/mac-automator-ffmpeg-video-compression-quick-action/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><style>#consent-banner{position:fixed;bottom:0;left:0;right:0;background-color:var(--entry);color:var(--content);padding:15px 20px;z-index:1000;display:none;border-top:1px solid var(--border);font-size:14px;box-shadow:0 -2px 10px rgba(0,0,0,.1)}#consent-banner-content{display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:15px;max-width:1200px;margin:0 auto}#consent-banner-text{flex-grow:1}#consent-banner-actions button{background-color:var(--primary);color:var(--theme);border:none;padding:8px 16px;border-radius:5px;cursor:pointer;margin-left:10px;font-weight:700}#consent-banner-actions button:hover{opacity:.9}#consent-banner-actions .decline{background-color:var(--tertiary);color:var(--primary)}</style><div id=consent-banner><div id=consent-banner-content><div id=consent-banner-text>本網站使用 Google Analytics 來分析流量，以改善您的瀏覽體驗。點擊「接受」即表示您同意我們使用 cookies 進行分析。</div><div id=consent-banner-actions><button id=btn-consent-decline class=decline>拒絕</button>
<button id=btn-consent-accept>接受</button></div></div></div><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("consent","default",{analytics_storage:"denied",ad_storage:"denied",ad_user_data:"denied",ad_personalization:"denied"}),function(){const e=document.getElementById("consent-banner"),s=document.getElementById("btn-consent-accept"),o=document.getElementById("btn-consent-decline"),t="user_consent",i=document.cookie.split(";").some(e=>e.trim().startsWith(t+"="));i||(e.style.display="block");const n=n=>{gtag("consent","update",{analytics_storage:n?"granted":"denied"}),document.cookie=`${t}=${n}; path=/; max-age=31536000; SameSite=Lax`,e.style.display="none"};s.addEventListener("click",()=>n(!0)),o.addEventListener("click",()=>n(!1))}()</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-QS8E5E9FQ1"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-QS8E5E9FQ1")</script><meta property="og:url" content="https://alasutoru.github.io/Fermi/post/mac-automator-ffmpeg-video-compression-quick-action/"><meta property="og:site_name" content="深海頁"><meta property="og:title" content="iMac右鍵新增壓縮影片"><meta property="og:description" content="影片壓縮 Shell 工序指令 影片優化"><meta property="og:locale" content="en-us"><meta property="og:type" content="article"><meta property="article:section" content="post"><meta property="article:published_time" content="2025-08-30T00:00:00+08:00"><meta property="article:modified_time" content="2025-08-30T00:00:00+08:00"><meta property="article:tag" content="資訊科技"><meta property="og:image" content="https://alasutoru.github.io/Fermi/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://alasutoru.github.io/Fermi/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="iMac右鍵新增壓縮影片"><meta name=twitter:description content="影片壓縮 Shell 工序指令 影片優化"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://alasutoru.github.io/Fermi/post/"},{"@type":"ListItem","position":2,"name":"iMac右鍵新增壓縮影片","item":"https://alasutoru.github.io/Fermi/post/mac-automator-ffmpeg-video-compression-quick-action/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"iMac右鍵新增壓縮影片","name":"iMac右鍵新增壓縮影片","description":"影片壓縮 Shell 工序指令 影片優化","keywords":["影片壓縮","Shell","工序指令","影片優化"],"articleBody":"針對 macOS 使用者的 FFmpeg 影片壓縮 自動化教學，指導使用者在 Automator 中創建一個接收影片檔案的「快速動作」，並嵌入一個 Shell 工序指令腳本，利用 FFmpeg 進行影片壓縮（指定 libx264/AAC 編碼與參數），同時提供如何檢查 FFmpeg 安裝路徑並修正腳本中路徑錯誤的方法，讓使用者能透過右鍵選單快速執行壓縮。\n檢查mac有無安裝 ffmpeg\n終端機打開輸入\nffmpeg -version 查看到版本後就不用安裝\n沒看到就需要安裝\n如何安裝這邊就不贅述\n打開 iMac 的 Automator 選擇文建類型：快速動作 工作流程接收目前的選擇影片檔案 位置 Finder.app 左邊程式庫選工具程式 － 執行Shell 工序指令拖拉到右邊灰色框框內 拖拉進去的框右上角傳遞輸入：作為引數使用 下面灰色框內貼上以下程式碼可先把原先全部刪除再貼上 #!/bin/bash # 設置 FFmpeg 的固定路徑 FFMPEG_PATH=\"/opt/homebrew/bin/ffmpeg\" # 檢查 FFmpeg 是否存在 if [ ! -f \"$FFMPEG_PATH\" ]; then echo \"錯誤：在 $FFMPEG_PATH 找不到 FFmpeg。請確保路徑正確。\" exit 1 fi for f in \"$@\" do output_file=\"${f%.*}_compressed.mp4\" \"$FFMPEG_PATH\" -i \"$f\" \\ -c:v libx264 -crf 30 -r 24 \\ -movflags faststart \\ -c:a aac -b:a 128k \\ -preset superfast \\ \"$output_file\" done 右上角執行跑一下沒問題後上方工具列檔案 儲存檔案後就可關閉 如果在執行時有發生錯誤出現\n-: line 4: /opt/homebrew/bin/ffmpeg: No such file or directory\n代表 ffmpeg 路徑位置不對\n先查詢ffmpeg安裝路徑\n假設我的路徑是\n/usr/local/bin/ffmpeg\n就把路徑輸入到程式碼\n先在終端機輸入\nwhich ffmpeg 查找路徑後\n這時程式碼路徑要改成找到的位置如下\n譬如我在輸入上面指令後得到的位置是\n/opt/homebrew/bin/ffmpeg\n上面設置FFmpeg固定路徑就改成這\nOK後在任何影片檔案滑鼠右鍵按下選單出現後選\n快速動作\n有個壓縮影片\n點擊就可以壓縮\n","wordCount":"124","inLanguage":"en","image":"https://alasutoru.github.io/Fermi/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E","datePublished":"2025-08-30T00:00:00+08:00","dateModified":"2025-08-30T00:00:00+08:00","author":{"@type":"Person","name":"Fermi Logan"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://alasutoru.github.io/Fermi/post/mac-automator-ffmpeg-video-compression-quick-action/"},"publisher":{"@type":"Organization","name":"深海頁","logo":{"@type":"ImageObject","url":"https://alasutoru.github.io/Fermi/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://alasutoru.github.io/Fermi/ accesskey=h title="深海頁 (Alt + H)"><img src=https://alasutoru.github.io/apple-touch-icon.png alt aria-label=logo height=35>深海頁</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://alasutoru.github.io/Fermi/archives/ title=歸檔><span>歸檔</span></a></li><li><a href=https://alasutoru.github.io/Fermi/categories/ title=類別><span>類別</span></a></li><li><a href=https://alasutoru.github.io/Fermi/tags/ title=標籤><span>標籤</span></a></li><li><a href=https://example.org title=測試><span>測試</span>&nbsp;
<svg fill="none" shape-rendering="geometricPrecision" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"/><path d="M15 3h6v6"/><path d="M10 14 21 3"/></svg></a></li><li><a href=https://alasutoru.github.io/Fermi/search/ title=搜尋><span>搜尋</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://alasutoru.github.io/Fermi/>Home</a>&nbsp;»&nbsp;<a href=https://alasutoru.github.io/Fermi/post/>Posts</a></div><h1 class="post-title entry-hint-parent">iMac右鍵新增壓縮影片</h1><div class=post-description>影片壓縮 Shell 工序指令 影片優化</div><div class=post-meta><span title='2025-08-30 00:00:00 +0800 CST'>2025/08/30</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;124 words&nbsp;·&nbsp;Fermi Logan&nbsp;|&nbsp;<a href=https://github.com/alasutoru/Fermi/tree/main/content/post/250830.md rel="noopener noreferrer edit" target=_blank>建議修改</a></div></header><div class=post-content><p>針對 macOS 使用者的 FFmpeg 影片壓縮 自動化教學，指導使用者在 <strong>Automator</strong> 中創建一個接收<strong>影片檔案</strong>的「快速動作」，並嵌入一個 <strong>Shell 工序指令</strong>腳本，利用 <strong>FFmpeg</strong> 進行影片壓縮（指定 <strong>libx264/AAC</strong> 編碼與參數），同時提供如何檢查 FFmpeg <strong>安裝路徑</strong>並修正腳本中<strong>路徑錯誤</strong>的方法，讓使用者能透過右鍵選單快速執行壓縮。</p><p>檢查mac有無安裝 ffmpeg<br>終端機打開輸入</p><pre tabindex=0><code>ffmpeg -version
</code></pre><p>查看到版本後就不用安裝<br>沒看到就需要安裝<br>如何安裝這邊就不贅述</p><ul><li>打開 iMac 的 Automator</li><li>選擇文建類型：<code>快速動作</code></li><li>工作流程接收目前的選擇<code>影片檔案</code></li><li>位置 <code>Finder.app</code></li><li>左邊程式庫選<code>工具程式</code> － <code>執行Shell 工序指令</code>拖拉到右邊灰色框框內</li><li>拖拉進去的框右上角傳遞輸入：<code>作為引數使用</code></li><li>下面灰色框內貼上以下程式碼可先把原先全部刪除再貼上</li></ul><pre tabindex=0><code>#!/bin/bash

# 設置 FFmpeg 的固定路徑
FFMPEG_PATH=&#34;/opt/homebrew/bin/ffmpeg&#34;

# 檢查 FFmpeg 是否存在
if [ ! -f &#34;$FFMPEG_PATH&#34; ]; then
  echo &#34;錯誤：在 $FFMPEG_PATH 找不到 FFmpeg。請確保路徑正確。&#34;
  exit 1
fi

for f in &#34;$@&#34;
do
  output_file=&#34;${f%.*}_compressed.mp4&#34;
  &#34;$FFMPEG_PATH&#34; -i &#34;$f&#34; \
    -c:v libx264 -crf 30 -r 24 \
    -movflags faststart \
    -c:a aac -b:a 128k \
    -preset superfast \
    &#34;$output_file&#34;
done
</code></pre><ul><li>右上角<code>執行</code>跑一下沒問題後上方工具列檔案 <code>儲存</code>檔案後就可關閉</li></ul><p>如果在執行時有發生錯誤出現<br><code>-: line 4: /opt/homebrew/bin/ffmpeg: No such file or directory</code><br>代表 ffmpeg 路徑位置不對<br>先查詢ffmpeg安裝路徑<br>假設我的路徑是<br>/usr/local/bin/ffmpeg<br>就把路徑輸入到程式碼</p><p>先在終端機輸入</p><pre tabindex=0><code>which ffmpeg
</code></pre><p>查找路徑後<br>這時程式碼路徑要改成找到的位置如下<br>譬如我在輸入上面指令後得到的位置是<br>/opt/homebrew/bin/ffmpeg<br>上面設置FFmpeg固定路徑就改成這</p><p>OK後在任何影片檔案滑鼠右鍵按下選單出現後選<br>快速動作<br>有個壓縮影片<br>點擊就可以壓縮</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://alasutoru.github.io/Fermi/tags/%E8%B3%87%E8%A8%8A%E7%A7%91%E6%8A%80/>資訊科技</a></li></ul><nav class=paginav><a class=prev href=https://alasutoru.github.io/Fermi/post/ecommerce-optimization-balance-quantity-and-speed/><span class=title>« Prev</span><br><span>如何讓網站從網海中脫穎而出？優化購物網站，提升用戶體驗，同時兼顧SEO</span>
</a><a class=next href=https://alasutoru.github.io/Fermi/post/lightbox-qr-code-marketing-integration-strategy/><span class=title>Next »</span><br><span>燈箱廣告的魔力</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2025 <a href=https://alasutoru.github.io/Fermi/>深海頁</a></span> ·</footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>